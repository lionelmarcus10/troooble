FROM python:3.9-slim
WORKDIR /app
RUN pip install flask
COPY <<EOF /app/app.py
from flask import Flask
from datetime import datetime

app = Flask(__name__)

@app.route("/")
def hello():
    current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    return f"Hello from the backend! Current time: {current_time}"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port={{ backend_port }})
EOF

EXPOSE {{ backend_port }}
CMD ["python", "/app/app.py"]
